<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TV Debug Logger - Vanilla JS Example</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
    }
    h1 {
      color: #333;
    }
    button {
      background:  #007aff;
      color: white;
      border: none;
      padding: 10px 20px;
      margin: 10px 5px;
      cursor: pointer;
      border-radius: 5px;
      font-size: 16px;
    }
    button:hover {
      background: #0051d5;
    }
    . info {
      background: #f0f0f0;
      padding: 15px;
      border-radius: 5px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <h1>ğŸ” TV Debug Logger Demo</h1>
  
  <div class="info">
    <p><strong>æŒ‰ F12 æ‰“å¼€è°ƒè¯•é¢æ¿</strong></p>
    <p>æˆ–è€…ä½¿ç”¨ Konami Code:  ä¸Šä¸Šä¸‹ä¸‹å·¦å³å·¦å³BA</p>
  </div>

  <h2>æµ‹è¯•åŠŸèƒ½</h2>
  <button onclick="testConsole()">ğŸ“ æµ‹è¯•æ§åˆ¶å°æ—¥å¿—</button>
  <button onclick="testNetwork()">ğŸŒ æµ‹è¯•ç½‘ç»œè¯·æ±‚</button>
  <button onclick="testWebSocket()">ğŸ”Œ æµ‹è¯• WebSocket</button>
  <button onclick="testError()">âŒ æµ‹è¯•é”™è¯¯æ—¥å¿—</button>

  <div class="info">
    <h3>é¥æ§å™¨æ“ä½œæŒ‡å—ï¼š</h3>
    <ul>
      <li><strong>ä¸Š/ä¸‹é”®</strong>ï¼šæµè§ˆæ—¥å¿—åˆ—è¡¨</li>
      <li><strong>å·¦/å³é”®</strong>ï¼šåˆ‡æ¢æ ‡ç­¾é¡µ</li>
      <li><strong>OK/Enter</strong>ï¼šæŸ¥çœ‹è¯¦æƒ…</li>
      <li><strong>è¿”å›/Esc</strong>ï¼šå…³é—­é¢æ¿æˆ–è¯¦æƒ…</li>
      <li><strong>æ•°å­—é”® 1</strong>ï¼šæ¸…ç©ºæ—¥å¿—</li>
      <li><strong>æ•°å­—é”® 2</strong>ï¼šæš‚åœ/ç»§ç»­</li>
      <li><strong>æ•°å­—é”® 3</strong>ï¼šå¯¼å‡ºæ—¥å¿—</li>
    </ul>
  </div>

  <script type="module">
    // æ³¨æ„ï¼šè¿™é‡Œä½¿ç”¨ CDN æˆ–æœ¬åœ°æ„å»ºåçš„æ–‡ä»¶
    // import TVDebugLogger from '../../dist/index.esm.js';
    
    // ä¸ºäº†æ¼”ç¤ºï¼Œè¿™é‡Œå‡è®¾å·²ç»é€šè¿‡ script æ ‡ç­¾å¼•å…¥
    // å®é™…ä½¿ç”¨æ—¶åº”è¯¥è¿™æ ·å¼•å…¥ï¼š
    // import TVDebugLogger from 'tv-debug-logger';
    // import 'tv-debug-logger/dist/tv-debug-logger.css';

    // æ¨¡æ‹Ÿå¼•å…¥ï¼ˆå®é™…é¡¹ç›®ä¸­ä½¿ç”¨ä¸Šé¢çš„ importï¼‰
    const script = document.createElement('script');
    script.src = '../../dist/index.umd.js';
    script.onload = () => {
      const link = document.createElement('link');
      link.rel = 'stylesheet';
      link.href = '../../dist/tv-debug-logger.css';
      document.head.appendChild(link);

      const logger = new window.TVDebugLogger({
        hotkey: 'F12',
        captureConsole: true,
        captureNetwork: true,
        captureWebSocket: true,
        theme: 'dark'
      });
      
      logger.init();
      window.tvLogger = logger;

      console.log('TV Debug Logger å·²åˆå§‹åŒ–ï¼æŒ‰ F12 æ‰“å¼€é¢æ¿');
    };
    document.head.appendChild(script);

    window.testConsole = () => {
      console.log('è¿™æ˜¯ä¸€æ¡æ™®é€šæ—¥å¿—', { timestamp: new Date() });
      console.info('è¿™æ˜¯ä¸€æ¡ä¿¡æ¯æ—¥å¿—', ['item1', 'item2']);
      console.warn('è¿™æ˜¯ä¸€æ¡è­¦å‘Šæ—¥å¿—');
      setTimeout(() => {
        console.error('è¿™æ˜¯ä¸€æ¡é”™è¯¯æ—¥å¿—', new Error('æµ‹è¯•é”™è¯¯'));
      }, 500);
    };

    window. testNetwork = async () => {
      try {
        // Fetch è¯·æ±‚
        const response = await fetch('https://api.github.com/users/github');
        const data = await response.json();
        console.log('GitHub API å“åº”:', data);

        // XMLHttpRequest
        const xhr = new XMLHttpRequest();
        xhr.open('GET', 'https://api.github.com/users/octocat');
        xhr.onload = () => {
          console.log('XHR è¯·æ±‚å®Œæˆ');
        };
        xhr.send();
      } catch (error) {
        console.error('ç½‘ç»œè¯·æ±‚å¤±è´¥:', error);
      }
    };

    window. testWebSocket = () => {
      try {
        const ws = new WebSocket('wss://echo.websocket.org');
        
        ws.onopen = () => {
          console.log('WebSocket å·²è¿æ¥');
          ws.send('Hello from TV Debug Logger! ');
          ws.send(JSON.stringify({ type: 'test', data: 'Testing WebSocket' }));
        };
        
        ws.onmessage = (event) => {
          console.log('æ”¶åˆ° WebSocket æ¶ˆæ¯:', event. data);
          setTimeout(() => ws.close(), 2000);
        };
        
        ws.onerror = (error) => {
          console. error('WebSocket é”™è¯¯:', error);
        };
        
        ws.onclose = () => {
          console.log('WebSocket å·²æ–­å¼€');
        };
      } catch (error) {
        console.error('WebSocket åˆ›å»ºå¤±è´¥:', error);
      }
    };

    window. testError = () => {
      try {
        throw new Error('è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•é”™è¯¯');
      } catch (error) {
        console.error('æ•è·åˆ°é”™è¯¯:', error);
      }
      
      setTimeout(() => {
        console.warn('è­¦å‘Šï¼šè¿™æ˜¯ä¸€ä¸ªå»¶è¿Ÿçš„è­¦å‘Šæ¶ˆæ¯');
      }, 1000);
    };
  </script>
</body>
</html>
